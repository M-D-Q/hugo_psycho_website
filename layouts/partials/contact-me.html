
<section class="transition-first-to-second"></section> <!-- Transition from first to second background -->

<section id="contact-me" class="contact-methods second-background overflow-hidden">
    <div class="container text-center" >
        <h1 class="display-3 mb-4" style="padding-bottom:10px" >{{ i18n "contact-heading" }}</h1>
        <p style="padding-bottom:10px">{{ i18n "contact-subtitle" }}</p>

        <div class="row d-flex justify-content-center">
            <div class="col-6 col-md-2 mb-2 contact-icon" data-aos="flip-down" data-aos-delay="150" data-bss-hover-animate="pulse"><a href="mailto:olesyamelnyk96@gmail.com" target="_blank"><img class="gmail-icon" src="/img/Gmail_purple.svg" alt="Gmail"></a></div>
            <div class="col-6 col-md-2 mb-2 contact-icon" data-aos="flip-down" data-aos-delay="50" data-bss-hover-animate="pulse"><a href="https://t.me/OlessiaProf" target="_blank"><img class="icon" src="/img/Telegram_purple.svg" alt="Telegram"></a></div>
            <div class="col-6 col-md-2 mb-2 contact-icon" data-aos="flip-down" data-aos-delay="100" data-bss-hover-animate="pulse"><a href="viber://chat?number=00380990859234" onclick="if(!navigator.userAgent.match(/Viber/i)){ window.location.href='https://www.viber.com/download/'; }"><img class="icon" src="/img/Viber_purple.svg" alt="Viber"></a></div>

        </div>
    
    <!-- Trigger Button for Collapse -->
    <a class="btn btn-primary btn-pill" style="margin-top:20px" data-bs-toggle="collapse" href="#collapseHelpText" role="button" aria-expanded="false" aria-controls="collapseHelpText">{{ i18n "contact-help-button1" }}</a>

    <div class="collapse mt-3" id="collapseHelpText">
        <div class="card card-body" style="background-color: #f8f9fa;">
            <!-- User Input Form -->
            <div class="row g-3">
                <div class="col-auto">
                    <label for="userName" class="form-label">{{ i18n "contact-form-field1-desc" }}</label>
                </div>
                <div class="col-auto">
                    <input type="text" class="form-control" id="userName" placeholder='{{ i18n "contact-form-field1-hint" }}'>
                </div>
                <div class="col-auto">
                    <label for="userAge" class="form-label">{{ i18n "contact-form-field2-desc" }}</label>
                </div>
                <div class="col-auto">
                    <input type="number" class="form-control" id="userAge" placeholder='{{ i18n "contact-form-field2-hint" }}'>
                </div>
            </div>
            <div class="mb-3">
                <label for="bookingReason" class="form-label">{{ i18n "contact-form-field3-desc" }}</label>
                <textarea class="form-control" id="bookingReason" placeholder='{{ i18n "contact-form-field3-hint" }}'></textarea>
            </div>
            <div class="mb-3">
                <label for="userEmotions" class="form-label">{{ i18n "contact-form-field4-desc" }}</label>
                <textarea class="form-control" id="userEmotions" placeholder='{{ i18n "contact-form-field4-hint" }}'></textarea>
            </div>
    
            <!-- Button to Generate Message -->
            <button class="btn btn-primary btn-pill align-self-center" style="width: auto;" onclick="generateMessage()">{{ i18n "contact-help-button2" }}</button>
    
            <!-- Textarea to Show Generated Message -->
            <textarea id="generatedMessage" class="form-control" style="height: 200px; margin-top: 15px; font-family: monospace; white-space: pre-wrap;" ></textarea>
    
            <!-- Button to Copy to Clipboard -->
            <button class="btn btn-primary btn-pill align-self-center" style="width: auto; margin-top:15px" onclick="copyToClipboard()">{{ i18n "contact-help-button3" }}</button>
    
            <div id="copySuccess" style="display:none; color: green; margin-top: 10px;">{{ i18n "contact-help-button4" }}</div>
        </div>
    </div>
</div>
</section>
<section class="transition-second-to-first"></section> <!-- Transition from second back to first background -->




<script>



const messageTemplates = {
  "ua": `Шановний психотерапевт,

Мене звати {name}, мені {age} років. Я звертаюся по допомогу з наступної причини: {reason}. Я відчуваю {emotions}, і вважаю, що мені може бути корисною професійна підтримка.

Було б чудово, якби ми могли домовитися про сеанс для подальшого обговорення.

Чекаю на вашу відповідь.

З повагою,
{name}`,
  
  "fr": `Chère Olessia,

Je m'appelle {name}, et j'ai {age} ans. Je vous contacte pour demander de l'aide pour la raison suivante : {reason}.

Aujourd'hui, je me sens {emotions}, et je pense que je pourrais bénéficier d'un soutien professionnel.

J'aimerais planifier une séance prochainement.

Dans l'attente de votre réponse.

Cordialement,
{name}`
};

function generateMessage() {
    const name = document.getElementById('userName').value.trim();
    const age = document.getElementById('userAge').value;
    const reason = document.getElementById('bookingReason').value.trim();
    const emotions = document.getElementById('userEmotions').value.trim();

    // Get the current language
    const language = getLanguage();

    // Select the correct template
    const template = messageTemplates[language];

    // Replace placeholders with actual values
    const message = template
        .replace(/{name}/g, name)
        .replace(/{age}/g, age)
        .replace(/{reason}/g, reason)
        .replace(/{emotions}/g, emotions);

    // Set the generated message in the corresponding field
    document.getElementById('generatedMessage').value = message;
}

function copyToClipboard() {
    const textArea = document.getElementById('generatedMessage');
    textArea.select();
    document.execCommand('copy');

    const successMessage = document.getElementById('copySuccess');
    successMessage.style.display = 'block';
    setTimeout(() => successMessage.style.display = 'none', 3000);
}
</script>

<style>
    #collapseHelpText .row {
    align-items: center; /* Aligns items vertically centered */
}

#collapseHelpText .col-auto {
    flex-grow: 0; /* Prevents flex items from growing */
    margin-bottom:20px
}

#collapseHelpText input[type="text"],
#collapseHelpText input[type="number"] {
    width: auto; /* Reduces width of input fields */
}

#collapseHelpText textarea {
    min-height: 100px; /* Adjusts the height of textareas */
}
</style>